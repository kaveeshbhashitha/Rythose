@if (Context.Session.GetString("AdminLoggedIn") != "True")
{
    <script>
        window.location.href = '@Url.Action("Login", "AdminHome")';
    </script>
}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>@ViewData["Title"] - Raythos Aerospace</title>
    <link rel="icon" type="image/x-icon" href="~/admin/build/images/logo2.jpg">

    <!-- Bootstrap -->
    <link href="cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css">
    <link href="~/admin/vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="~/admin/vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <!-- NProgress -->
    <link href="~/admin/vendors/nprogress/nprogress.css" rel="stylesheet">
    <!-- iCheck -->
    <link href="~/admin/vendors/iCheck/skins/flat/green.css" rel="stylesheet">
    <!-- Datatables -->

    <link href="~/admin/vendors/datatables.net-bs/css/dataTables.bootstrap.min.css" rel="stylesheet">
    <link href="~/admin/vendors/datatables.net-buttons-bs/css/buttons.bootstrap.min.css" rel="stylesheet">
    <link href="~/admin/vendors/datatables.net-fixedheader-bs/css/fixedHeader.bootstrap.min.css" rel="stylesheet">
    <link href="~/admin/vendors/datatables.net-responsive-bs/css/responsive.bootstrap.min.css" rel="stylesheet">
    <link href="~/admin/vendors/datatables.net-scroller-bs/css/scroller.bootstrap.min.css" rel="stylesheet">

    <!-- Custom Theme Style -->
    <link href="~/admin/build/css/custom.min.css" rel="stylesheet">

    <style>
        table.dataTable {
            border-collapse: collapse !important;
        }
    </style>

    
</head>

<body class="nav-md">
    <div class="container body">
        <div class="main_container">
            <div class="col-md-3 left_col">
                <div class="left_col scroll-view">
                    <div class="navbar nav_title" style="border: 0;">
                        <a href="index.html" class="site_title">
                            <span>Raythos Aerospace</span>
                        </a>
                    </div>

                    <div class="clearfix"></div>
                    @if (Context.Session.GetString("UserType") == "Admin")
                    {
                    <!-- sidebar menu -->
                    <div id="sidebar-menu" class="main_menu_side hidden-print main_menu">
                        <div class="menu_section">
                            <ul class="nav side-menu">
                                <li id="dashboard"><a asp-area="" asp-controller="AdminHome" asp-action="Index"><i class="fa fa-laptop"></i> Dashboard </a></li>

                                <li id="inventoryManagement">
                                    <a>
                                        <i class="fa fa-edit"></i> Inventory Management <span class="fa fa-chevron-down"></span>
                                    </a>
                                    <ul id="ainventoryManagement_block" class="nav child_menu">
                                        <li id="cat_reg"><a asp-area="" asp-controller="Inventory" asp-action="CatReg">Item Category Register</a></li>
                                        <li id="cat_list"><a asp-area="" asp-controller="Inventory" asp-action="CatList">Category List</a></li>
                                        <li id="item_reg"><a asp-area="" asp-controller="Inventory" asp-action="ItemReg">Item Register</a></li>
                                            <li id="item_list"><a asp-area="" asp-controller="Inventory" asp-action="ItemList">Item List</a></li>
                                            <li id="core_item_reg"><a asp-area="" asp-controller="Inventory" asp-action="CoreItemReg">Core  Items Register</a></li>
                                            <li id="core_item_list"><a asp-area="" asp-controller="Inventory" asp-action="CoreItemList">Core Item List</a></li>
                                    </ul>
                                </li>
                                <li id="aircraftManagement">
                                    <a>
                                        <i class="fa fa-desktop"></i> Aircraft Management <span class="fa fa-chevron-down"></span>
                                    </a>
                                    <ul id="aircraftManagement_block" class="nav child_menu">
                                        <li id="add_aircraft"><a asp-area="" asp-controller="Aircraft" asp-action="AddAircraft">Aircraft Register</a></li>
                                        <li id="aircraft_list"><a asp-area="" asp-controller="Aircraft" asp-action="AircraftList">Aircraft List</a></li>
                                    </ul>
                                </li>
                                <li id="orderManagement">
                                    <a>
                                        <i class="fa fa-table"></i> Order Management
                                        <span class="fa fa-chevron-down"></span>
                                    </a>
                                    <ul id="orderManagement_block" class="nav child_menu">
                                        <li id="order_list"><a asp-area="" asp-controller="Order" asp-action="order_list">Order List</a></li>
                                        <li id="manufacture_list">
                                            <a asp-area="" asp-controller="Order" asp-action="manufacture_list">Manufacture List</a>
                                        </li>
                                        <li id="shipping_list"><a asp-area="" asp-controller="Order" asp-action="shipping_list">Shipping List</a></li>
                                        <li id="completed_list"><a asp-area="" asp-controller="Order" asp-action="completed_list">Completed Orders</a></li>
                                    </ul>
                                </li>
                                <li id="customerManagement">
                                    <a>
                                        <i class="fa fa-clone"></i> Customer Management 
                                        <span class="fa fa-chevron-down"></span>
                                    </a>
                                    <ul id="customerManagement_block" class="nav child_menu">
                                        <li id ="customer_list"><a asp-area="" asp-controller="Customer" asp-action="CusList">Customer List</a></li>
                                        <li id ="customer_pref"><a asp-area="" asp-controller="Aircraft" asp-action="CustomerPreference">User Preference</a></li>
                                    </ul>
                                </li>
                                <li id="userManagement">
                                    <a>
                                        <i class="fa fa-clone"></i> User Management <span class="fa fa-chevron-down"></span>
                                    </a>
                                    <ul id="userManagement_block" class="nav child_menu">
                                        <li id ="add_user"><a asp-area="" asp-controller="User" asp-action="Add">Add New User</a></li>
                                        <li id ="list_user"><a asp-area="" asp-controller="User" asp-action="Index">Users List</a></li>
                                    </ul>
                                </li>
                                
                                <li id="reportManagement">
                                    <a>
                                        <i class="fa fa-bar-chart-o"></i> Reports <span class="fa fa-chevron-down"></span>
                                    </a>
                                    <ul id="reportManagementBlock" class="nav child_menu">
                                        <li id ="income_rep"><a asp-area="" asp-controller="Report" asp-action="Income">Income Report</a></li>
                                        <li id ="order_rep"><a asp-area="" asp-controller="Report" asp-action="Order">Order Report</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <!-- end sidebar -->
                    }else{ 

                    <!-- sidebar menu -->
                    <div id="sidebar-menu" class="main_menu_side hidden-print main_menu">
                        <div class="menu_section">
                            <ul class="nav side-menu">
                                <li id="inventoryManagement">
                                    <a>
                                        <i class="fa fa-edit"></i> Inventory Management <span class="fa fa-chevron-down"></span>
                                    </a>
                                    <ul id="ainventoryManagement_block" class="nav child_menu">
                                        <li id="item_reg"><a asp-area="" asp-controller="Inventory" asp-action="ItemReg">Item Register</a></li>
                                        <li id="item_list"><a asp-area="" asp-controller="Inventory" asp-action="ItemList">Item List</a></li>
                                            <li id="core_item_reg"><a asp-area="" asp-controller="Inventory" asp-action="CoreItemReg">Core  Items Register</a></li>
                                            <li id="core_item_list"><a asp-area="" asp-controller="Inventory" asp-action="CoreItemList">Core Item List</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <!-- end sidebar -->
                    }

                </div>
            </div>

            <!-- top navigation -->
            <div class="top_nav">
                <div class="nav_menu">
                    <div class="nav toggle">
                        <a id="menu_toggle"><i class="fa fa-bars"></i></a>
                    </div>
                    <nav class="nav navbar-nav">
                        <ul class=" navbar-right">
                            <li class="nav-item dropdown open" style="padding-left: 15px;">
                                <a href="javascript:;" class="user-profile dropdown-toggle" aria-haspopup="true"
                                   id="navbarDropdown" data-toggle="dropdown" aria-expanded="false">
                                    @Context.Session.GetString("UserType");
                                </a>
                                <div class="dropdown-menu dropdown-usermenu pull-right"
                                     aria-labelledby="navbarDropdown">
                                    <a class="dropdown-item" asp-action="Logout" asp-controller="User">
                                        <i class="fa fa-sign-out pull-right"></i>
                                        Log Out
                                    </a>
                                </div>
                            </li>

                        </ul>
                    </nav>
                </div>
            </div>
            <!-- /top navigation -->


            @RenderBody()


</div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script>
    function confirmRemove(action) {
            Swal.fire({
                title: "Are you sure?",
                text: "Once removed, you cannot recover this item!",
                icon: "warning",
                showCancelButton: true,
                confirmButtonColor: "#3085d6",
                cancelButtonColor: "#d33",
                confirmButtonText: "Remove"
            }).then((result) => {
                if (result.isConfirmed) {
                    $.post(action, function (data) {
                        location.reload();
                    });
                } else {
                    Swal.fire("Item not removed.", "", "info");
                }
            });
    }
</script>


    <!-- jQuery -->
    <script src="~/admin/vendors/jquery/dist/jquery.min.js"></script>
    <!-- Bootstrap -->
    <script src="~/admin/vendors/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <!-- FastClick -->
    <script src="~/admin/vendors/fastclick/lib/fastclick.js"></script>
    <!-- NProgress -->
    <script src="~/admin/vendors/nprogress/nprogress.js"></script>
    <!-- iCheck -->
    <script src="~/admin/vendors/iCheck/icheck.min.js"></script>
    <!-- Datatables -->
    <script src="~/admin/vendors/datatables.net/js/jquery.dataTables.min.js"></script>
    <script src="~/admin/vendors/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
    <script src="~/admin/vendors/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
    <script src="~/admin/vendors/datatables.net-buttons-bs/js/buttons.bootstrap.min.js"></script>
    <script src="~/admin/vendors/datatables.net-buttons/js/buttons.flash.min.js"></script>
    <script src="~/admin/vendors/datatables.net-buttons/js/buttons.html5.min.js"></script>
    <script src="~/admin/vendors/datatables.net-buttons/js/buttons.print.min.js"></script>
    <script src="~/admin/vendors/datatables.net-fixedheader/js/dataTables.fixedHeader.min.js"></script>
    <script src="~/admin/vendors/datatables.net-keytable/js/dataTables.keyTable.min.js"></script>
    <script src="~/admin/vendors/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
    <script src="~/admin/vendors/datatables.net-responsive-bs/js/responsive.bootstrap.js"></script>
    <script src="~/admin/vendors/datatables.net-scroller/js/dataTables.scroller.min.js"></script>
    <script src="~/admin/vendors/jszip/dist/jszip.min.js"></script>
    <script src="~/admin/vendors/pdfmake/build/pdfmake.min.js"></script>
    <script src="~/admin/vendors/pdfmake/build/vfs_fonts.js"></script>

    <!-- Custom Theme Scripts -->
    <script src="~/admin/build/js/custom.min.js"></script>

    @{
        var error = Context.Session.GetString("Error");
        var success = Context.Session.GetString("Success");
    }

    @if (!string.IsNullOrEmpty(error))
    {
        <div class="alert alert-danger alert-dismissible" style="width:fit-content;float:right;position:fixed;top:5%;right:1%" role="alert">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">×</span>
            </button>
            <strong>Error..!</strong> @Context.Session.GetString("Error");
        </div>
        Context.Session.Remove("Error");
    }
    

    @if (!string.IsNullOrEmpty(success))
    {
        <div class="alert alert-success alert-dismissible" style="width:fit-content;float:right;position:fixed;top:5%;right:1%" role="alert">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">×</span>
            </button>
            <strong>Done..!</strong> @Context.Session.GetString("Success");
        </div>

        Context.Session.Remove("Success");
    }


    <script>
        // Function to remove the alert element after a specified delay
        function removeAlert(alertElement) {
            alertElement.style.display = 'none';
        }

        // Check if the error alert exists and set a timeout to remove it
        var errorAlert = document.querySelector('.alert-danger');
        if (errorAlert) {
            setTimeout(function () {
                removeAlert(errorAlert);
            }, 2000); // 2000 milliseconds = 2 seconds
        }

        // Check if the success alert exists and set a timeout to remove it
        var successAlert = document.querySelector('.alert-success');
        if (successAlert) {
            setTimeout(function () {
                removeAlert(successAlert);
            }, 2000); // 2000 milliseconds = 2 seconds
        }
    </script>
</body>

</html>
